mdp

module prob_conformance

       die : [0..6];
       s   : [0..6];
       f   : [0..1];

       // the 6-sided die (f==0)
       [] (s=0)&(die=0)&(f=0) -> 1/6 : (die'=1) + 1/6 : (die'=2) + 1/6 : (die'=3) + 1/6 : (die'=4) + 1/6 : (die'=5) + 1/6 : (die'=6);
       [] (die!=0) -> true;

       // the 2-sided die policy to synthetize (f==1)
       // non determinism of state s0
       [a] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0) + 1/2 : (s'=1);
       [b] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0) + 1/2 : (s'=2);
       [c] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0) + 1/2 : (s'=3);
       [d] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0) + 1/2 : (s'=4);
       [e] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0) + 1/2 : (s'=5);
       [f] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0) + 1/2 : (s'=6);

       [g] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=1) + 1/2 : (s'=2);
       [h] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=1) + 1/2 : (s'=3);
       [i] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=1) + 1/2 : (s'=4);
       [j] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=1) + 1/2 : (s'=5);
       [k] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=1) + 1/2 : (s'=6);

       [l] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=2) + 1/2 : (s'=3);
       [m] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=2) + 1/2 : (s'=4);
       [n] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=2) + 1/2 : (s'=5);
       [o] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=2) + 1/2 : (s'=6);

       [p] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=3) + 1/2 : (s'=4);
       [q] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=3) + 1/2 : (s'=5);
       [r] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=3) + 1/2 : (s'=6);

       [s] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=4) + 1/2 : (s'=5);
       [t] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=4) + 1/2 : (s'=6);

       [u] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=5) + 1/2 : (s'=6);

       [v] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0) + 1/2 : (s'=0)&(die'=1);
       [w] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0) + 1/2 : (s'=0)&(die'=2);
       [x] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0) + 1/2 : (s'=0)&(die'=3);
       [y] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0) + 1/2 : (s'=0)&(die'=4);
       [z] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0) + 1/2 : (s'=0)&(die'=5);
       [aa] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0) + 1/2 : (s'=0)&(die'=6);

       [ab] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=1) + 1/2 : (s'=0)&(die'=1);
       [ac] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=1) + 1/2 : (s'=0)&(die'=2);
       [ad] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=1) + 1/2 : (s'=0)&(die'=3);
       [ae] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=1) + 1/2 : (s'=0)&(die'=4);
       [af] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=1) + 1/2 : (s'=0)&(die'=5);
       [ag] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=1) + 1/2 : (s'=0)&(die'=6);

       [ah] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=2) + 1/2 : (s'=0)&(die'=1);
       [ai] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=2) + 1/2 : (s'=0)&(die'=2);
       [al] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=2) + 1/2 : (s'=0)&(die'=3);
       [am] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=2) + 1/2 : (s'=0)&(die'=4);
       [an] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=2) + 1/2 : (s'=0)&(die'=5);
       [ao] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=2) + 1/2 : (s'=0)&(die'=6);

       [ap] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=3) + 1/2 : (s'=0)&(die'=1);
       [aq] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=3) + 1/2 : (s'=0)&(die'=2);
       [ar] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=3) + 1/2 : (s'=0)&(die'=3);
       [as] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=3) + 1/2 : (s'=0)&(die'=4);
       [at] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=3) + 1/2 : (s'=0)&(die'=5);
       [au] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=3) + 1/2 : (s'=0)&(die'=6);

       [av] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=4) + 1/2 : (s'=0)&(die'=1);
       [aw] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=4) + 1/2 : (s'=0)&(die'=2);
       [ax] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=4) + 1/2 : (s'=0)&(die'=3);
       [ay] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=4) + 1/2 : (s'=0)&(die'=4);
       [az] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=4) + 1/2 : (s'=0)&(die'=5);
       [ba] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=4) + 1/2 : (s'=0)&(die'=6);

       [bb] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=5) + 1/2 : (s'=0)&(die'=1);
       [bc] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=5) + 1/2 : (s'=0)&(die'=2);
       [bd] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=5) + 1/2 : (s'=0)&(die'=3);
       [be] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=5) + 1/2 : (s'=0)&(die'=4);
       [bf] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=5) + 1/2 : (s'=0)&(die'=5);
       [bg] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=5) + 1/2 : (s'=0)&(die'=6);

       [bh] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=6) + 1/2 : (s'=0)&(die'=1);
       [bi] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=6) + 1/2 : (s'=0)&(die'=2);
       [bl] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=6) + 1/2 : (s'=0)&(die'=3);
       [bm] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=6) + 1/2 : (s'=0)&(die'=4);
       [bn] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=6) + 1/2 : (s'=0)&(die'=5);
       [bo] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=6) + 1/2 : (s'=0)&(die'=6);

       [bp] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0)&(die'=1) + 1/2 : (s'=0)&(die'=2);
       [bq] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0)&(die'=1) + 1/2 : (s'=0)&(die'=3);
       [br] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0)&(die'=1) + 1/2 : (s'=0)&(die'=4);
       [bs] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0)&(die'=1) + 1/2 : (s'=0)&(die'=5);
       [bt] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0)&(die'=1) + 1/2 : (s'=0)&(die'=6);

       [bu] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0)&(die'=2) + 1/2 : (s'=0)&(die'=3);
       [bv] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0)&(die'=2) + 1/2 : (s'=0)&(die'=4);
       [bw] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0)&(die'=2) + 1/2 : (s'=0)&(die'=5);
       [bx] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0)&(die'=2) + 1/2 : (s'=0)&(die'=6);

       [by] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0)&(die'=3) + 1/2 : (s'=0)&(die'=4);
       [bz] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0)&(die'=3) + 1/2 : (s'=0)&(die'=5);
       [ca] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0)&(die'=3) + 1/2 : (s'=0)&(die'=6);

       [cb] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0)&(die'=4) + 1/2 : (s'=0)&(die'=5);
       [cc] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0)&(die'=4) + 1/2 : (s'=0)&(die'=6);

       [cd] (s=0)&(die=0)&(f=1) -> 1/2 : (s'=0)&(die'=5) + 1/2 : (s'=0)&(die'=6);

       // nondeterminism of state s1
       [a] (s=1)&(die=0)&(f=1) -> 1/2 : (s'=3) + 1/2 : (s'=4);
       [b] (s=1)&(die=0)&(f=1) -> 1/2 : (s'=0) + 1/2 : (s'=1);


       [] (s=2)&(die=0)&(f=1) -> 1/2 : (s'=5) + 1/2 : (s'=6);

       [] (s=3)&(die=0)&(f=1) -> 1/2 : (s'=1) + 1/2 : (s'=0)&(die'=1);

       [] (s=4)&(die=0)&(f=1) -> 1/2 : (s'=0)&(die'=2) + 1/2 : (s'=0)&(die'=3);
      
       [] (s=5)&(die=0)&(f=1) -> 1/2 : (s'=0)&(die'=4) + 1/2 : (s'=0)&(die'=5);

       [] (s=6)&(die=0)&(f=1) -> 1/2 : (s'=2) + 1/2 : (s'=0)&(die'=6);



endmodule

// we have two initial states, either the 6-sided (0,0,0) or the 2-sided die (0,0,1)
init  (s=0)&(die=0)  endinit

label "die1" = (die=1);
label "die2" = (die=2);
label "die3" = (die=3);
label "die4" = (die=4);
label "die5" = (die=5);
label "die6" = (die=6);
